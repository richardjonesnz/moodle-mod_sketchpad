{"version":3,"file":"sketchpad.min.js","sources":["../src/sketchpad.js"],"sourcesContent":["//import Log from 'core/log';\nimport Selectors from './local/selectors';\nlet size = 5;\nlet isPressed = false;\nlet color = 'black';\nlet x;\nlet y;\n\nconst sizeLabel = document.getElementById('mod_sketchpad_size');\nconst canvas = document.getElementById('mod_sketchpad_canvas');\nconst ctx = canvas.getContext('2d');\n\nconst registerEventListeners = () => {\n    document.addEventListener('click', e => {\n        // Increase size.\n        if (e.target.closest(Selectors.actions.increaseButton)) {\n            size = (size < 40) ? (size + 5) : 40;\n            sizeLabel.innerText = size;\n        }\n        // Descrease size.\n        if (e.target.closest(Selectors.actions.decreaseButton)) {\n            size = (size > 5) ? (size - 5) : 5;\n            sizeLabel.innerText = size;\n        }\n        // Color.\n        if (e.target.closest(Selectors.actions.colorButton)) {\n            setColor(e.target.value);\n        }\n        // Clear canvas.\n        if (e.target.closest(Selectors.actions.clearButton)) {\n            clearCanvas();\n        }\n    });\n    canvas.addEventListener('mousedown', (e) => {\n        isPressed = true;\n        x = e.offsetX;\n        y = e.offsetY;\n    });\n    canvas.addEventListener('mouseup', () => {\n        isPressed = false;\n        x = undefined;\n        y = undefined;\n    });\n    canvas.addEventListener('mousemove', (e) => {\n        if(isPressed) {\n            const x2 = e.offsetX;\n            const y2 = e.offsetY;\n\n            drawCircle(x2, y2);\n            drawLine(x, y, x2, y2);\n\n            x = x2;\n            y = y2;\n        }\n    });\n    canvas.addEventListener('mousedown', (e) => {\n        isPressed = true;\n        x = e.offsetX;\n        y = e.offsetY;\n    });\n};\n\nfunction drawCircle(x, y) {\n    ctx.beginPath();\n    ctx.arc(x, y, size, 0, Math.PI *2);\n    ctx.fillStyle = color;\n    ctx.fill();\n}\n\nfunction drawLine(x1, y1, x2, y2) {\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.strokeStyle = color;\n    ctx.lineWidth = size * 2;\n    ctx.stroke();\n}\n\nfunction clearCanvas() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nfunction setColor(thecolor) {\n    color = thecolor;\n}\n\nexport const init = () => {\n    registerEventListeners();\n};"],"names":["x","y","size","isPressed","color","sizeLabel","document","getElementById","canvas","ctx","getContext","registerEventListeners","addEventListener","e","thecolor","target","closest","Selectors","actions","increaseButton","innerText","decreaseButton","colorButton","value","clearButton","clearRect","width","height","offsetX","offsetY","undefined","x2","y2","beginPath","arc","Math","PI","fillStyle","fill","drawCircle","x1","y1","moveTo","lineTo","strokeStyle","lineWidth","stroke","drawLine"],"mappings":"uPAKIA,EACAC,EAJAC,KAAO,EACPC,WAAY,EACZC,MAAQ,cAINC,UAAYC,SAASC,eAAe,sBACpCC,OAASF,SAASC,eAAe,wBACjCE,IAAMD,OAAOE,WAAW,MAExBC,uBAAyB,KAC3BL,SAASM,iBAAiB,SAASC,QAqErBC,SAnEND,EAAEE,OAAOC,QAAQC,mBAAUC,QAAQC,kBACnCjB,KAAQA,KAAO,GAAOA,KAAO,EAAK,GAClCG,UAAUe,UAAYlB,MAGtBW,EAAEE,OAAOC,QAAQC,mBAAUC,QAAQG,kBACnCnB,KAAQA,KAAO,EAAMA,KAAO,EAAK,EACjCG,UAAUe,UAAYlB,MAGtBW,EAAEE,OAAOC,QAAQC,mBAAUC,QAAQI,eAyD7BR,SAxDGD,EAAEE,OAAOQ,MAyD1BnB,MAAQU,UAtDAD,EAAEE,OAAOC,QAAQC,mBAAUC,QAAQM,cAkD3Cf,IAAIgB,UAAU,EAAG,EAAGjB,OAAOkB,MAAOlB,OAAOmB,WA9CzCnB,OAAOI,iBAAiB,aAAcC,IAClCV,WAAY,EACZH,EAAIa,EAAEe,QACN3B,EAAIY,EAAEgB,WAEVrB,OAAOI,iBAAiB,WAAW,KAC/BT,WAAY,EACZH,OAAI8B,EACJ7B,OAAI6B,KAERtB,OAAOI,iBAAiB,aAAcC,OAC/BV,UAAW,OACJ4B,GAAKlB,EAAEe,QACPI,GAAKnB,EAAEgB,kBAgBL7B,EAAGC,GACnBQ,IAAIwB,YACJxB,IAAIyB,IAAIlC,EAAGC,EAAGC,KAAM,EAAY,EAATiC,KAAKC,IAC5B3B,IAAI4B,UAAYjC,MAChBK,IAAI6B,OAlBIC,CAAWR,GAAIC,aAqBTQ,GAAIC,GAAIV,GAAIC,IAC1BvB,IAAIwB,YACJxB,IAAIiC,OAAOF,GAAIC,IACfhC,IAAIkC,OAAOZ,GAAIC,IACfvB,IAAImC,YAAcxC,MAClBK,IAAIoC,UAAmB,EAAP3C,KAChBO,IAAIqC,SA1BIC,CAAS/C,EAAGC,EAAG8B,GAAIC,IAEnBhC,EAAI+B,GACJ9B,EAAI+B,OAGZxB,OAAOI,iBAAiB,aAAcC,IAClCV,WAAY,EACZH,EAAIa,EAAEe,QACN3B,EAAIY,EAAEgB,0BA4BM,KAChBlB"}